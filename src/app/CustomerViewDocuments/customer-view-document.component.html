<app-header></app-header>
<ngx-spinner bdColor = "rgba(1,1,1,0.8)" size = "medium" color = "#4470a6" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" > Fetching Data.... </p></ngx-spinner>
<div *ngIf="loading" class="loading-overlay">
  <div class="spinner"></div>
  Loading...
</div>

<div class="container document-section">
  <h2 class="document-heading text-center bg-primary text-white py-2">Customer Documents</h2>

  <!-- Display Photo -->
  <div class="document-display text-center mb-3">
    <h3><strong>Photo</strong></h3>
    <div class="document-preview" *ngIf="photo">
      <img [src]="photo" alt="Customer Photo" class="img-thumbnail">
    </div>
    <input type="file" (change)="onFileChange($event, 'photo')" class="form-control-file mt-2">
  </div>

  <!-- Display Aadhar Card -->
  <div class="document-display text-center mb-3">
    <h3><strong>Aadhar Card</strong></h3>
    <div class="document-preview" *ngIf="aadhar">
      <img [src]="aadhar" alt="Aadhar Card" class="img-thumbnail">
    </div>
    <input type="file" (change)="onFileChange($event, 'aadhar')" class="form-control-file mt-2">
  </div>

  <!-- Display PAN Card -->
  <div class="document-display text-center mb-3">
    <h3><strong>PanCard</strong></h3>
    <div class="document-preview" *ngIf="panCard">
      <img [src]="panCard" alt="PAN Card" class="img-thumbnail">
    </div>
    <input type="file" (change)="onFileChange($event, 'panCard')" class="form-control-file mt-2">
  </div>

  <div *ngIf="message" class="alert alert-info text-center">{{ message }}</div>

  <!-- Update Documents Button -->
  <div class="text-center mt-4">
    <button class="btn btn-primary mr-2" (click)="onUpdateDocument()">Update</button>
    <button class="btn btn-secondary" (click)="onBack()">Back</button>
  </div>
</div>
